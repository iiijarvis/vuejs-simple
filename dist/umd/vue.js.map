{"version":3,"file":"vue.js","sources":["../../src/core/shared/constants.js","../../src/core/util/index.js","../../src/core/observer/array.js","../../src/core/observer/dep.js","../../src/core/observer/index.js","../../src/core/vdom/vnode.js","../../src/core/vdom/create-component.js","../../src/core/vdom/patch.js","../../src/core/instance/lifecycle.js","../../src/core/observer/scheduler.js","../../src/core/observer/watcher.js","../../src/core/instance/state.js","../../src/compiler/directives/model.js","../../src/compiler/parser-html.js","../../src/compiler/codegen/index.js","../../src/compiler/index.js","../../src/core/instance/init.js","../../src/core/vdom/create-element.js","../../src/core/instance/render.js","../../src/core/instance/index.js","../../src/core/global-api/extend.js","../../src/core/global-api/assets.js","../../src/core/global-api/index.js","../../src/core/index.js"],"sourcesContent":["\r\nexport const ASSET_TYPES = [\r\n  'component'\r\n]\r\n\r\n\r\nexport const LIFECYCLE_HOOKS = [\r\n  'beforeCreate',\r\n  'created',\r\n  'beforeMount',\r\n  'mounted',\r\n  'beforeUpdate',\r\n  'updated',\r\n  'beforeDestroy',\r\n  'destroyed'\r\n]\r\n","import { LIFECYCLE_HOOKS } from '../shared/constants'\r\n\r\nexport function isObject (obj) {\r\n  return obj !== null && typeof obj === 'object';\r\n}\r\n\r\nexport function isPlainObject (obj) {\r\n  return Object.prototype.toString.call(obj) === '[object Object]';\r\n}\r\n\r\nexport function extend (to, _from) {\r\n  for (let key in _from) {\r\n    to[key] = _from[key];\r\n  }\r\n  return to;\r\n}\r\n\r\nexport function def (data, key, value, enumerable) {\r\n  Object.defineProperty(data, key, {\r\n    value: value,\r\n    enumerable: !!enumerable,\r\n    configurable: true\r\n  })\r\n}\r\n\r\nexport function bind (fn, ctx) {\r\n  return function (a) {\r\n    var l = arguments.length\r\n    return l\r\n      ? l > 1\r\n        ? fn.apply(ctx, arguments)\r\n        : fn.call(ctx, a)\r\n      : fn.call(ctx)\r\n  }\r\n}\r\n\r\nexport const unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/\r\n\r\nconst bailRE = new RegExp(`[^${unicodeRegExp.source}.$_\\\\d]`)\r\nexport function parsePath (path) {\r\n  if (bailRE.test(path)) {\r\n    return\r\n  }\r\n  const segments = path.split('.')\r\n  return function (obj) {\r\n    for (let i = 0; i < segments.length; i++) {\r\n      if (!obj) return\r\n      obj = obj[segments[i]]\r\n    }\r\n    return obj\r\n  }\r\n}\r\n\r\nexport function remove (arr, item) {\r\n  if (arr.length) {\r\n    const index = arr.indexOf(item);\r\n    if (index > -1) {\r\n      return arr.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n\r\nexport function isReservedTag (tag) {\r\n  return isHTMLTag(tag) || isSVG(tag)\r\n}\r\n\r\nexport const isHTMLTag = makeMap(\r\n  'html,body,base,head,link,meta,style,title,' +\r\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\r\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\r\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\r\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\r\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\r\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\r\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\r\n  'output,progress,select,textarea,' +\r\n  'details,dialog,menu,menuitem,summary,' +\r\n  'content,element,shadow,template,blockquote,iframe,tfoot'\r\n)\r\n\r\nexport const isSVG = makeMap(\r\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\r\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\r\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\r\n  true\r\n)\r\n\r\nexport function makeMap (str, expectsLowerCase) {\r\n  const map = Object.create(null);\r\n  const list = str.split(',');\r\n  for (let i = 0; i < list.length; i++) {\r\n    map[list[i]] = true\r\n  }\r\n  return expectsLowerCase\r\n    ? val => map[val.toLowerCase()]\r\n    : val => map[val]\r\n}\r\n\r\nconst strats = {}\r\n\r\nLIFECYCLE_HOOKS.forEach(hook => {\r\n  strats[hook] = mergeHook\r\n})\r\n\r\nfunction mergeHook (parentVal, childVal) {\r\n  if (childVal) {\r\n    if (parentVal) {\r\n      return parentVal.concat(childVal)\r\n    } else {\r\n      return [childVal]\r\n    }\r\n  } else {\r\n    return parentVal\r\n  }\r\n}\r\n\r\nexport function mergeOptions (parent, child) {\r\n  // let a = { a: { c: 2 } };\r\n  // let b = { a: { b: 1 } };\r\n\r\n  const options = {};\r\n  for (let key in parent) {\r\n    mergeField(key);\r\n  }\r\n  for (let key in child) {\r\n    if (!parent[key]) {\r\n      mergeField(key);\r\n    }\r\n  }\r\n\r\n  function mergeField (key) {\r\n    if (strats[key]) {\r\n      options[key] = strats[key](parent[key], child[key])\r\n    } else {\r\n      if (isObject(parent[key]) && isObject(child[key])) {\r\n        options[key] = Object.assign(parent[key], child[key]);\r\n      } else {\r\n        if (!child[key]) {\r\n          options[key] = parent[key];\r\n        } else {\r\n          options[key] = child[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return options;\r\n}\r\n","const oldArrayMethods = Array.prototype;\r\nexport const arrayMethods = Object.create(oldArrayMethods)\r\n\r\nconst methods = ['push', 'shift', 'unshift', 'pop', 'reverse', 'sort', 'splice'];\r\n\r\nmethods.forEach(method => {\r\n  arrayMethods[method] = function (...args) {\r\n    const result = oldArrayMethods[method].apply(this, args); // 调用原生数组方法\r\n    let inserted;\r\n    const ob = this.__ob__;\r\n    switch (method) {\r\n      case 'push':\r\n      case 'unshift':\r\n        inserted = args;\r\n        break;\r\n      case 'splice':\r\n        inserted = args.slice(2);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (inserted) {\r\n      ob.observeArray(inserted);\r\n    }\r\n    return result;\r\n  }\r\n});\r\n","import { remove } from '../util/index'\r\n\r\nlet uid = 0;\r\n\r\nexport default class Dep {\r\n  constructor() {\r\n    this.id = uid++;\r\n    this.subs = [];\r\n  }\r\n\r\n  addSub (sub) {\r\n    this.subs.push(sub);\r\n  }\r\n\r\n  removeSub (sub) {\r\n    remove(this.subs, sub);\r\n  }\r\n\r\n  depend () {\r\n    if (Dep.target) {\r\n      Dep.target.addDep(this);\r\n    }\r\n  }\r\n\r\n  notify () {\r\n    const subs = this.subs.slice();\r\n    for (let i = 0; i < subs.length; i++) {\r\n      subs[i].update();\r\n    }\r\n  }\r\n}\r\n\r\nDep.target = null\r\nconst targetStack = []\r\n\r\nexport function pushTarget (target) {\r\n  targetStack.push(target);\r\n  Dep.target = target;\r\n}\r\n\r\nexport function popTarget () {\r\n  targetStack.pop();\r\n  Dep.target = targetStack[targetStack.length - 1];\r\n}\r\n","import { isObject, def } from '../util/index';\r\nimport { arrayMethods } from './array';\r\nimport Dep from './dep';\r\n\r\nexport function observe (data) {\r\n  if (!isObject(data)) return;\r\n  return new Observer(data);\r\n}\r\n\r\nexport class Observer {\r\n  constructor(data) {\r\n    // 给 data 挂载 Observer 实例\r\n    // 这里的作用是方便数组操作时调用 Observer 实例的 observeArray 方法\r\n    def(data, '__ob__', this, false);\r\n\r\n    if (Array.isArray(data)) {\r\n      this.observeArray(data);\r\n      data.__proto__ = arrayMethods;\r\n    } else {\r\n      this.walk(data);\r\n    }\r\n  }\r\n  walk (data) {\r\n    Object.keys(data).forEach(key => {\r\n      let value = data[key];\r\n      defineReactive(data, key, value);\r\n    });\r\n  }\r\n  observeArray (data) {\r\n    for (let i = 0; i < data.length; i++) {\r\n      observe(data[i]);\r\n    }\r\n  }\r\n}\r\n\r\nfunction defineReactive (data, key, value) {\r\n  const dep = new Dep();\r\n  observe(value); // 递归调用\r\n  Object.defineProperty(data, key, {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get () {\r\n      if (Dep.target) {\r\n        dep.depend();\r\n      }\r\n      return value;\r\n    },\r\n    set (newVal) {\r\n      if (newVal === value) return;\r\n      value = newVal;\r\n      dep.notify();\r\n    }\r\n  })\r\n}\r\n","\r\nexport class VNode {\r\n  constructor(tag, data, key, children = [], text, elm, context, componentOptions) {\r\n    this.tag = tag;\r\n    this.data = data;\r\n    this.key = key;\r\n    this.children = children;\r\n    this.text = text;\r\n    this.elm = elm;\r\n    this.context = context;\r\n    this.componentOptions = componentOptions;\r\n  }\r\n}\r\n","import { VNode } from './vnode'\r\n\r\nexport function createComponent (Ctor, data, context, children, tag) {\r\n  if (!Ctor) return;\r\n  const baseCtor = context.$options._base\r\n\r\n  // 针对局部组件注册场景\r\n  if (typeof Ctor === 'object') {\r\n    Ctor = baseCtor.extend(Ctor)\r\n  }\r\n\r\n  data = data || {}\r\n\r\n  const name = Ctor.options.name || tag\r\n\r\n  const vnode = new VNode(\r\n    `vue-component-${Ctor.cid}${name ? `-${name}` : ''}`,\r\n    data, undefined, undefined, undefined, undefined, context,\r\n    { Ctor: Ctor, tag: tag, children: children }\r\n  )\r\n\r\n  return vnode;\r\n}\r\n\r\nexport function createComponentInstanceForVnode (vnode, parent) {\r\n  let options = {\r\n    _isComponent: true,\r\n    _parentVnode: vnode,\r\n    parent: parent\r\n  };\r\n\r\n  return new vnode.componentOptions.Ctor(options);\r\n}","import { VNode } from './vnode'\r\nimport { createComponentInstanceForVnode } from './create-component'\r\n\r\nexport function createPatchFunction (oldVnode, vnode) {\r\n  const vm = this;\r\n  return patch(oldVnode, vnode);\r\n\r\n  function patch (oldVnode, vnode) {\r\n    // let parent = vm.$el.parentNode;\r\n    // const oldElm = oldVnode;\r\n    // const parentElm = oldElm.parentNode;\r\n\r\n    // let el = createElm(vnode);\r\n    // parent.appendChild(el);\r\n    // if (isRealElement) {\r\n    //   parentElm.removeChild(oldElm);\r\n    // }\r\n    if (!oldVnode) {\r\n      createElm(vnode);\r\n    } else {\r\n      const isRealElement = oldVnode.nodeType; // 虚拟dom没有nodeType属性，真实dom才有\r\n\r\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\r\n        patchVnode(oldVnode, vnode);\r\n      } else {\r\n        if (isRealElement) {\r\n          oldVnode = emptyNodeAt(oldVnode);\r\n        }\r\n        let elm = oldVnode.elm;\r\n        let parent = elm.parentNode;\r\n        createElm(vnode, [], parent);\r\n        parent.insertBefore(vnode.elm, elm);\r\n        parent.removeChild(elm);\r\n      }\r\n    }\r\n    return vnode.elm;\r\n  }\r\n\r\n  function createElm (vnode, insertedVnodeQueue, parentElm, refElm) {\r\n    let { tag, data, key, children, text } = vnode;\r\n\r\n    if (createComponent(vnode, [], parentElm, undefined)) {\r\n      return\r\n    }\r\n\r\n    if (typeof tag === 'string') {\r\n      vnode.elm = document.createElement(tag);\r\n      children.forEach(child => {\r\n        try {\r\n          return vnode.elm.appendChild(createElm(child, [], vnode.elm));\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      })\r\n      updateProperties(vnode);\r\n    } else {\r\n      vnode.elm = document.createTextNode(text);\r\n    }\r\n    return vnode.elm;\r\n  }\r\n\r\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\r\n    if (vnode.tag && vnode.tag.indexOf('vue-component') > -1) {\r\n      let child = createComponentInstanceForVnode(vnode, parentElm);\r\n      child.$mount();\r\n      parentElm.appendChild(child.$el)\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function patchVnode (oldVnode, vnode) {\r\n    if (oldVnode === vnode) return;\r\n\r\n    const elm = vnode.elm = oldVnode.elm;\r\n    const oldCh = oldVnode.children;\r\n    const ch = vnode.children;\r\n\r\n    if (!vnode.text) { // 判断是否为文本\r\n      if (oldCh && ch) { // 是否有子节点\r\n        updateChildren(elm, oldCh, ch);\r\n      } else if (ch) {\r\n        if (oldCh.text) {\r\n          elm.textContent = '';\r\n        }\r\n        addVnodes(elm, null, ch, 0, ch.length - 1);\r\n      } else if (oldCh) {\r\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\r\n      } else {\r\n        elm.textContent = '';\r\n      }\r\n      updateDOMProps(oldVnode, vnode);\r\n    } else {\r\n      if (oldCh) {\r\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\r\n      }\r\n      elm.textContent = vnode.text;\r\n    }\r\n  }\r\n\r\n  function emptyNodeAt (elm) {\r\n    return new VNode(elm.tagName.toLowerCase(), {}, [], undefined, undefined, elm);\r\n  }\r\n\r\n  function sameVnode (oldVnode, vnode) {\r\n    return oldVnode.key === vnode.key && oldVnode.tag === vnode.tag;\r\n  }\r\n\r\n  function removeVnodes (parent, vnodes, startIdx, endIdx) {\r\n    for (let i = startIdx; i <= endIdx; i++) {\r\n      let vnode = vnodes[i];\r\n      let elm = vnode.elm;\r\n      parent.removeChild(elm);\r\n    }\r\n  }\r\n\r\n  function addVnodes (parent, before, vnodes, startIdx, endIdx) {\r\n    for (; startIdx <= endIdx; ++startIdx) {\r\n      let vnode = vnodes[startIdx];\r\n      if (vnode) {\r\n        parent.insertBefore(createElm(vnode, [], parent), before);\r\n      }\r\n    }\r\n  }\r\n\r\n  function updateChildren (parentElm, oldCh, newCh) {\r\n    if (oldCh === newCh) return;\r\n    let oldStartIdx = 0,\r\n      oldEndIdx = oldCh.length - 1,\r\n      oldStartVnode = oldCh[0],\r\n      oldEndVnode = oldCh[oldEndIdx],\r\n      newStartIdx = 0,\r\n      newEndIdx = newCh.length - 1,\r\n      newStartVnode = newCh[0],\r\n      newEndVnode = newCh[newEndIdx],\r\n      oldKeyToIdx,\r\n      idxInold;\r\n\r\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\r\n      if (oldStartVnode == null) {\r\n        oldStartVnode = oldCh[++oldStartIdx];\r\n      } else if (oldEndVnode == null) {\r\n        oldEndVnode = oldCh[--oldEndIdx];\r\n      } else if (newStartVnode == null) {\r\n        newStartVnode = newCh[++newStartIdx];\r\n      } else if (newEndVnode == null) {\r\n        newEndVnode = newCh[--newEndIdx];\r\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\r\n        patchVnode(oldStartVnode, newStartVnode);\r\n        oldStartVnode = oldCh[++oldStartIdx];\r\n        newStartVnode = newCh[++newStartIdx];\r\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\r\n        patchVnode(oldEndVnode, newEndVnode);\r\n        oldEndVnode = oldCh[--oldEndIdx];\r\n        newEndVnode = newCh[--newEndIdx];\r\n      } else if (sameVnode(oldStartVnode, newEndVnode)) {\r\n        patchVnode(oldStartVnode, newEndVnode);\r\n        parentElm.insertBefore(oldStartVnode.elm, oldEndVnode.elm.nextSibling);\r\n        oldStartVnode = oldCh[++oldStartIdx];\r\n        newEndVnode = newCh[--newEndIdx];\r\n      } else if (sameVnode(oldEndVnode, newStartVnode)) {\r\n        patchVnode(oldEndVnode, newStartVnode);\r\n        parentElm.insertBefore(oldEndVnode.elm, oldStartVnode.elm);\r\n        oldEndVnode = oldCh[--oldEndIdx];\r\n        newStartVnode = newCh[++newStartIdx];\r\n      } else {\r\n        if (oldKeyToIdx === undefined) {\r\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\r\n        }\r\n        idxInold = oldKeyToIdx[newStartVnode.key];\r\n        if (idxInold === undefined) {\r\n          parentElm.insertBefore(createElm(newStartVnode, [], parentElm), oldStartVnode.elm);\r\n        } else {\r\n          let moveVnode = oldCh[idxInold];\r\n          if (!sameVnode(moveVnode, newStartVnode)) {\r\n            parentElm.insertBefore(createElm(newStartVnode, [], parentElm), oldStartVnode.elm);\r\n          } else {\r\n            patchVnode(moveVnode, newStartVnode);\r\n            parentElm.insertBefore(moveVnode.elm, oldStartVnode.elm);\r\n            oldCh[idxInold] = null;\r\n          }\r\n        }\r\n        newStartVnode = newCh[++newStartIdx];\r\n      }\r\n    }\r\n\r\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\r\n      if (oldStartIdx > oldEndIdx) {\r\n        // 插入剩余新增的子节点\r\n        let before = newCh[newEndIdx + 1] ? newCh[newEndIdx + 1].elm : null;\r\n        addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx);\r\n      } else {\r\n        // 删除废弃的子节点\r\n        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\r\n      }\r\n    }\r\n  }\r\n\r\n  function createKeyToOldIdx (children, startIdx, endIdx) {\r\n    let map = {};\r\n    for (let i = startIdx; i <= endIdx; i++) {\r\n      let key = children[i].key;\r\n      if (key) {\r\n        map[key] = i;\r\n      }\r\n    }\r\n    return map;\r\n  }\r\n\r\n  function updateProperties (vnode) {\r\n    let props = vnode.data;\r\n    let elm = vnode.elm;\r\n    if (props) {\r\n      if (props.attrs) {\r\n        for (let attr in props.attrs) {\r\n          if (attr === 'style') {\r\n            for (let styleName in props.attrs.style) {\r\n              elm.style[styleName] = props.attrs.style[styleName];\r\n            }\r\n          } else if (attr === 'class') {\r\n            elm.className = props.attrs[attr];\r\n          } else {\r\n            elm.setAttribute(attr, props.attrs[attr]);\r\n          }\r\n        }\r\n      }\r\n      if (props.on) {\r\n        for (let event in props.on) {\r\n          elm.addEventListener(event, props.on[event].bind(vm));\r\n        }\r\n      }\r\n      if (props.domProps) {\r\n        for (let prop in props.domProps) {\r\n          // elm.prop=props.domProps[prop]\r\n          elm.setAttribute(prop, props.domProps[prop]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function updateDOMProps (oldVnode, vnode) {\r\n    if (!oldVnode.data.domProps && !vnode.data.domProps)\r\n      return;\r\n    const elm = vnode.elm;\r\n    let oldProps = oldVnode.data.domProps || {};\r\n    let props = vnode.data.domProps || {};\r\n\r\n    // 清空不在新 VNode 里在老 VNode 的 domProps\r\n    for (let key in oldProps) {\r\n      if (!props[key]) {\r\n        elm[key] = '';\r\n      }\r\n    }\r\n\r\n    for (let key in props) {\r\n      let cur = props[key];\r\n      if (key === 'value') {\r\n        elm[key] = cur;\r\n      } else {\r\n        elm[key] = cur;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Watcher from '../observer/watcher'\r\nimport { patch } from '../vdom/patch'\r\n\r\nexport function mountComponent (vm, el) {\r\n  // const option=vm.$options;\r\n  vm.$el = el;\r\n\r\n  callHook(vm, 'beforeMount');\r\n\r\n  let updateComponent = () => {\r\n    // _render 创建虚拟dom\r\n    // _update 解析虚拟dom并创建真实dom\r\n    let vnode = vm._render();\r\n    vm._update(vnode);\r\n  }\r\n  new Watcher(vm, updateComponent, () => { }, {\r\n    before () {\r\n      callHook(vm, 'beforeUpdate');\r\n    }\r\n  });\r\n\r\n  callHook(vm, 'mounted');\r\n\r\n}\r\n\r\nexport function lifecycleMixin (Vue) {\r\n  Vue.prototype._update = function (vnode) {\r\n    const vm = this;\r\n    let prevVnode = vm._vnode;\r\n    vm._vnode = vnode;\r\n    if (!prevVnode) {\r\n      vm.$el = vm.__patch__(vm.$el, vnode);\r\n    } else {\r\n      vm.$el = vm.__patch__(prevVnode, vnode);\r\n    }\r\n  }\r\n\r\n  Vue.prototype.$destroy = function () {\r\n    const vm = this;\r\n\r\n    callHook(vm, 'beforeDestroy');\r\n\r\n    if (vm._watcher) {\r\n      vm._watcher.teardown()\r\n    }\r\n\r\n    callHook(vm, 'destroyed');\r\n\r\n  }\r\n}\r\n\r\nexport function callHook (vm, hook) {\r\n  const handlers = vm.$options[hook]\r\n  if (handlers) {\r\n    for (let i = 0; i < handlers.length; i++) {\r\n      handlers[i].call(vm);\r\n    }\r\n  }\r\n}\r\n","\r\nimport { callHook } from '../instance/lifecycle'\r\n\r\nlet has = {};\r\nlet flushing = false;\r\nlet queue = [];\r\nlet index = 0;\r\nlet waiting = false;\r\n\r\nexport function queueWatcher (watcher) {\r\n  let id = watcher.id;\r\n  if (!has[id]) {\r\n    has[id] = true;\r\n    if (!flushing) {\r\n      queue.push(watcher);\r\n    } else {\r\n      // 执行 flushSchedulerQueue 过程中插入 watcher\r\n      let i = queue.length - 1;\r\n      // 按从小到大排列 插入id\r\n      while (i > index && queue[index].id > id) i--;\r\n      queue.splice(i + 1, 0, watcher);\r\n    }\r\n    if (!waiting) {\r\n      waiting = true;\r\n      setTimeout(flushSchedulerQueue, 0);\r\n    }\r\n  }\r\n}\r\n\r\nfunction flushSchedulerQueue () {\r\n  flushing = true;\r\n  queue.sort((a, b) => a.id - b.id);\r\n  for (index = 0; index < queue.length; index++) {\r\n    let watcher = queue[index];\r\n    if (watcher.before) {\r\n      watcher.before()\r\n    }\r\n    has[watcher.id] = null;\r\n    watcher.run();\r\n  }\r\n  index = queue.length = 0;\r\n  has = {};\r\n  flushing = waiting = false;\r\n\r\n  callHook(vm, 'updated');\r\n\r\n}\r\n","import Dep, { pushTarget, popTarget } from './dep';\r\nimport { parsePath } from '../util/index'\r\nimport { queueWatcher } from './scheduler'\r\n\r\nlet uid = 0\r\n\r\nclass Watcher {\r\n  constructor(vm, exprOrFn, callback, options) {\r\n    this.vm = vm;\r\n    this.callback = callback;\r\n    this.options = options;\r\n    this.deps = [];\r\n    this.depIds = new Set();\r\n    this.id = ++uid;\r\n\r\n    if (options) {\r\n      this.before = options.before;\r\n    }\r\n\r\n    if (typeof exprOrFn === 'function') {\r\n      this.getter = exprOrFn\r\n    } else {\r\n      this.getter = parsePath(exprOrFn)\r\n    }\r\n\r\n    this.value = this.get();\r\n  }\r\n  get () {\r\n    Dep.target = this;\r\n    let value = '';\r\n    try {\r\n      value = this.getter.call(this.vm, this.vm);\r\n    } catch (e) {\r\n\r\n    } finally {\r\n      Dep.target = null;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  addDep (dep) {\r\n    if (!this.depIds.has(dep.id)) {\r\n      dep.addSub(this);\r\n      this.depIds.add(dep.id);\r\n      this.deps.push(dep);\r\n    }\r\n  }\r\n\r\n  run () {\r\n    let value = this.get();\r\n    if (value !== this.value) {\r\n      let oldValue = this.value;\r\n      this.value = value;\r\n      this.callback.call(this.vm, this.value, oldValue);\r\n    }\r\n  }\r\n\r\n  update () {\r\n    queueWatcher(this);\r\n  }\r\n\r\n  teardown () {\r\n    let i = this.deps.length;\r\n    while (i--) {\r\n      this.deps[i].removeSub(this);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Watcher","import { observe } from '../observer/index'\r\nimport { bind } from '../util/index'\r\nimport Watcher from '../observer/watcher'\r\nimport Dep from '../observer/dep';\r\n\r\nconst sharedPropertyDefinition = {\r\n  enumerable: true,\r\n  configurable: true,\r\n  get: () => { },\r\n  set: () => { }\r\n}\r\n\r\nfunction initState (vm) {\r\n  const options = vm.$options;\r\n  if (options.props) {\r\n    initProps();\r\n  }\r\n  if (options.methods) {\r\n    initMethods(vm);\r\n  }\r\n  if (options.data) {\r\n    initData(vm);\r\n  }\r\n  if (options.computed) {\r\n    initComputed(vm, options.computed);\r\n  }\r\n  if (options.watch) {\r\n    initWatch(vm, options.watch);\r\n  }\r\n}\r\n\r\nfunction initProps () { }\r\n\r\nfunction initMethods (vm) {\r\n  const methods = vm.$options.methods;\r\n  if (methods) {\r\n    for (let key in methods) {\r\n      vm[key] = bind(methods[key], vm);\r\n    }\r\n  }\r\n}\r\n\r\nfunction initData (vm) {\r\n  let data = vm.$options.data;\r\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data || {};\r\n\r\n  Object.keys(data).forEach((key) => {\r\n    proxy(vm, '_data', key);\r\n  });\r\n  observe(data);\r\n}\r\n\r\nfunction proxy (vm, source, key) {\r\n  Object.defineProperty(vm, key, {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get () {\r\n      return vm[source][key];\r\n    },\r\n    set (newValue) {\r\n      vm[source][key] = newValue;\r\n    }\r\n  })\r\n}\r\n\r\nfunction initComputed (vm, computed) {\r\n  const watchers = vm._computedWatchers = Object.create(null);\r\n\r\n  for (let key in computed) {\r\n    const userDef = computed[key];\r\n    let getter = typeof userDef === 'function' ? userDef : userDef.get;\r\n    watchers[key] = new Watcher(vm, getter, () => { });\r\n\r\n    if (!(key in vm)) { // computed 定义的变量一般不在 vm 上\r\n      defineComputed(vm, key, userDef);\r\n    }\r\n  }\r\n}\r\n\r\nfunction defineComputed (target, key, userDef) {\r\n  if (typeof userDef === 'function') {\r\n    sharedPropertyDefinition.get = createComputedGetter(key);\r\n    sharedPropertyDefinition.set = () => { };\r\n  }\r\n  Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\r\n\r\nfunction createComputedGetter (key) {\r\n  return function computedGetter () {\r\n    const watcher = this._computedWatchers && this._computedWatchers[key];\r\n\r\n    if (watcher) {\r\n      return watcher.value;\r\n    }\r\n  }\r\n}\r\n\r\nfunction initWatch (vm, watch) {\r\n  for (let key in watch) {\r\n    const handler = watch[key];\r\n\r\n    createWatcher(vm, key, handler);\r\n  }\r\n}\r\n\r\nfunction createWatcher (vm, expOrFn, handler, options) {\r\n  if (typeof handler === 'string') {\r\n    handler = vm[handler];\r\n  }\r\n  return vm.$watch(expOrFn, handler, options);\r\n}\r\n\r\nexport function stateMixin (Vue) {\r\n  Vue.prototype.$watch = function (expOrFn, cb, options) {\r\n    const vm = this;\r\n    options = options || {};\r\n    const watcher = new Watcher(vm, expOrFn, cb);\r\n    if (options.immediate) {\r\n      cb.call(vm, watcher.value);\r\n    }\r\n    return function unwatchFn () {\r\n      watcher.teardown();\r\n    }\r\n  }\r\n}\r\n\r\nexport { initState };","export function genAssignmentCode (value, assignment) {\r\n\r\n  return (value + \"=\" + assignment);\r\n}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\r\nconst startTagClose = /^\\s*(\\/?)>/;\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\nconst doctype = /^<!DOCTYPE [^>]+>/i;\r\nconst dirRE = /^v-|^@/;\r\n\r\nimport { genAssignmentCode } from './directives/model.js';\r\n\r\n\r\nlet root = null;\r\nlet currentParent = null;\r\nlet stack = [];\r\n\r\nfunction createASTElement (tagName, attrs) {\r\n  return {\r\n    tag: tagName,\r\n    type: 1,\r\n    children: [],\r\n    attrsList: attrs,\r\n    attrsMap: makeAttrsMap(attrs),\r\n    parent: null\r\n  }\r\n}\r\n\r\nfunction makeAttrsMap (attrs) {\r\n  let map = {};\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    map[attrs[i].name] = attrs[i].value;\r\n  }\r\n  return map;\r\n}\r\n\r\nexport function parseHtml (html) {\r\n\r\n  root = null;\r\n  currentParent = null;\r\n  stack = [];\r\n\r\n  while (html) {\r\n    let textEnd = html.indexOf('<');\r\n    if (textEnd === 0) {\r\n      let startTagMatch = parseStartTag();\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs);\r\n      } else {\r\n        let endTagMatch = html.match(endTag);\r\n        if (endTagMatch) {\r\n          advance(endTagMatch[0].length);\r\n          end(endTagMatch[1]);\r\n        }\r\n      }\r\n    }\r\n    let text;\r\n    if (textEnd >= 0) {\r\n      text = html.substring(0, textEnd);\r\n    }\r\n    if (text) {\r\n      advance(text.length);\r\n      chars(text);\r\n    }\r\n  }\r\n\r\n  function parseStartTag () {\r\n    let start = html.match(startTagOpen);\r\n    if (start) {\r\n      const match = { tagName: start[1], attrs: [] };\r\n      advance(start[0].length);\r\n\r\n      let end, attr;\r\n      // 获取标签属性\r\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n        advance(attr[0].length);\r\n        match.attrs.push({\r\n          name: attr[1],\r\n          value: attr[3] || attr[4] || attr[5]\r\n        });\r\n      }\r\n      if (end) {\r\n        advance(end[0].length);\r\n      }\r\n\r\n      return match;\r\n    }\r\n  }\r\n\r\n  function advance (n) {\r\n    html = html.substring(n);\r\n  }\r\n\r\n  return root;\r\n}\r\n\r\nfunction processAttrs (el) {\r\n  let list = el.attrsList;\r\n  el.attrs = el.attrs ? el.attrs : [];\r\n  el.directives = el.directives ? el.directives : [];\r\n  el.props = el.props ? el.props : [];\r\n  el.events = el.events ? el.events : {};\r\n\r\n  for (let i = 0; i < list.length; i++) {\r\n    let name = list[i].name;\r\n    let value = list[i].value;\r\n    if (dirRE.test(name)) {\r\n      if (/v-model/.test(name) && el.tag === 'input') {\r\n        el.directives.push({ name: 'model', rawName: 'v-model', value: value });\r\n        el.events['input'] = genAssignmentCode(value, '$event.target.value');\r\n        el.props.push({ name: 'value', value: value });\r\n      }\r\n      if (/@click/.test(name)) {\r\n        el.events['click'] = value;\r\n      }\r\n    } else {\r\n      el.attrs.push({ name: name, value: value });\r\n    }\r\n  }\r\n}\r\n\r\n// 处理开始标签\r\nfunction start (tagName, attrs) {\r\n  let element = createASTElement(tagName, attrs);\r\n  processAttrs(element);\r\n  if (!root) {\r\n    root = element;\r\n  }\r\n  currentParent = element;\r\n  stack.push(element);\r\n  if (tagName === 'input') {\r\n    end(tagName);\r\n  }\r\n}\r\n\r\n// 处理文本\r\nfunction chars (text) {\r\n  text = text.replace(/\\s/g, '');\r\n  if (text) {\r\n    currentParent.children.push({\r\n      text: text,\r\n      type: 3\r\n    });\r\n  }\r\n}\r\n\r\n// 处理结束标签\r\nfunction end (tagName) {\r\n  let element = stack.pop();\r\n  currentParent = stack[stack.length - 1];\r\n  if (currentParent) {\r\n    element.parent = currentParent;\r\n    currentParent.children.push(element);\r\n  }\r\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\nconst fnExpRE = /^([\\w$_]+|\\([^)]*?\\))\\s*=>|^function(?:\\s+[\\w$]+)?\\s*\\(/;\r\nconst fnInvokeRE = /\\([^)]*?\\);*$/;\r\nconst simplePathRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/;\r\n\r\nexport function generate (ast) {\r\n  let children = genChildren(ast);\r\n  let code = `_c(\"${ast.tag}\",\r\n  ${ast.attrsList.length ? genData(ast) : 'undefined'}\r\n  ${children ? `,${children}` : ''}\r\n  )`;\r\n\r\n  return code;\r\n}\r\n\r\nfunction genData (ast) {\r\n  let data = '{';\r\n  if (ast.attrs) {\r\n    data += \"attrs:\" + genProps(ast.attrs) + \",\";\r\n  }\r\n  if (ast.events) {\r\n    data += \"on:\" + genHandlers(ast.events) + \",\";\r\n  }\r\n  if (ast.props) {\r\n    data += \"domProps:\" + genDomProps(ast.props) + \",\";\r\n  }\r\n\r\n  data = data.replace(/,$/, '');\r\n  // data += \"attrs:\" + genProps(attrs.filter(item => !item.name.startsWith('@'))) + \",\";\r\n  // let events = attrs.filter(item => item.name.startsWith('@'));\r\n  // if (events && events.length) {\r\n  //   data += \"on:\" + genHandlers(events);\r\n  // }\r\n  data += '}';\r\n  return data;\r\n}\r\n\r\nfunction genHandlers (events) {\r\n  let data = '';\r\n  Object.keys(events).forEach(key => {\r\n\r\n    let isMethodPath = simplePathRE.test(events[key]);\r\n    let isFunctionExpression = fnExpRE.test(events[key]);\r\n    // let isFunctionInvocation = simplePathRE.test(handler.value.replace(fnInvokeRE, ''));\r\n\r\n    if (isMethodPath || isFunctionExpression) {\r\n      data += `\"${key}\":${events[key]},`;\r\n    } else {\r\n      data += `\"${key}\":function ($event){ ${events[key]} },`;\r\n    }\r\n  })\r\n  data = data.replace(/,$/, '');\r\n\r\n  return `{${data}}`;\r\n}\r\n\r\nfunction genDomProps (props) {\r\n  let data = '{';\r\n  for (var i = 0; i < props.length; i++) {\r\n    data += `\"${props[i].name}\":${props[i].value},`;\r\n    // if (ast.elm) {\r\n    //   ast.elm[ast.props[i].name] = ast.props[i].value;\r\n    // }\r\n  }\r\n\r\n  data = data.replace(/,$/, '');\r\n  data += '}';\r\n  return data;\r\n}\r\n\r\nfunction genProps (attrs) {\r\n  let str = '';\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i];\r\n    if (attr.name === \"style\") {\r\n      let obj = {};\r\n      attr.value.split(\";\").forEach(item => {\r\n        let [key, value] = item.split(\":\");\r\n        obj[key] = value;\r\n      });\r\n      attr.value = obj;\r\n    }\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n  }\r\n  return `{${str.slice(0, -1)}}`;\r\n}\r\n\r\nfunction genChildren (ast) {\r\n  let children = ast.children;\r\n  if (children && children.length > 0) {\r\n    return `${children.map(c => gen(c)).join(',')}`;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction gen (node) {\r\n  if (node.type === 1) {\r\n    return generate(node);\r\n  } else {\r\n    let text = node.text;\r\n    let tokens = [];\r\n    let match, index;\r\n    let lastIndex = defaultTagRE.lastIndex = 0;\r\n    while (match = defaultTagRE.exec(text)) {\r\n      index = match.index;\r\n      if (index > lastIndex) {\r\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\r\n      }\r\n      tokens.push(`_s(${match[1].trim()})`);\r\n      lastIndex = index + match[0].length;\r\n    }\r\n    if (lastIndex < text.length) {\r\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\r\n    }\r\n    return `_v(${tokens.join('+')})`;\r\n  }\r\n}","import { parseHtml } from './parser-html';\r\nimport { generate } from './codegen/index';\r\n\r\nexport function compileToFunctions (template) {\r\n  let root = parseHtml(template);\r\n  let code = generate(root);\r\n\r\n  let renderFn = new Function(`with(this){return ${code}}`);\r\n\r\n  return renderFn;\r\n}","import { initState } from './state'\r\nimport { compileToFunctions } from '../../compiler/index'\r\nimport { mountComponent } from './lifecycle'\r\nimport { createPatchFunction } from '../vdom/patch'\r\nimport { callHook } from './lifecycle'\r\nimport { mergeOptions } from '../util/index'\r\n// import { initRender } from './render'\r\n\r\nexport function initMixin (Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this;\r\n\r\n    if (options && options._isComponent) {\r\n      initInternalComponent(vm, options);\r\n    } else {\r\n      vm.$options = mergeOptions(vm.constructor.options, options || {});\r\n    }\r\n\r\n    callHook(vm, 'beforeCreate');\r\n\r\n    // initRender(vm);\r\n    initState(vm);\r\n    callHook(vm, 'created');\r\n\r\n    if (vm.$options.el) {\r\n      vm.$mount(vm.$options.el);\r\n    }\r\n  }\r\n\r\n  Vue.prototype.__patch__ = createPatchFunction;\r\n\r\n  Vue.prototype.$mount = function (el) {\r\n    const vm = this;\r\n    const options = vm.$options;\r\n    el = el ? document.querySelector(el) : undefined;\r\n    // options.el = el;\r\n\r\n    if (!options.render) {\r\n      let template = options.template;\r\n      if (!template && el) {\r\n        template = el.outerHTML;\r\n      }\r\n      options.render = compileToFunctions(template);\r\n    }\r\n    mountComponent(vm, el);\r\n  }\r\n}\r\n\r\nexport function initInternalComponent (vm, options) {\r\n  const opts = vm.$options = mergeOptions(options || {}, vm.constructor.options);\r\n\r\n  // const parentVnode = options._parentVnode\r\n  // opts.parent = options.parent\r\n  // opts._parentVnode = parentVnode\r\n  // if (options.render) {\r\n  //   opts.render = options.render\r\n  // }\r\n}\r\n","import { isReservedTag } from '../util/index'\r\nimport { createComponent } from './create-component'\r\nimport { VNode } from './vnode'\r\n\r\nexport function createElement (context, tag, data = {}, ...children) {\r\n  let key = data.key;\r\n  let vnode;\r\n  if (key) {\r\n    delete data.key;\r\n  }\r\n  if (typeof tag === 'string') {\r\n    let Ctor;\r\n    if (isReservedTag(tag)) {\r\n      vnode = new VNode(tag, data, key, children, undefined);\r\n    } else if (Ctor = resolveAsset(context.$options, 'components', tag)) {\r\n      vnode = createComponent(Ctor, data, context, children, tag)\r\n    } else {\r\n      vnode = new VNode(tag, data, key, children, undefined);\r\n    }\r\n  }\r\n  return vnode;\r\n}\r\n\r\nexport function createTextNode (text) {\r\n  return new VNode(undefined, undefined, undefined, undefined, text);\r\n}\r\n\r\nfunction resolveAsset (options, type, id) {\r\n  const assets = options[type];\r\n  return assets[id];\r\n}\r\n","import { createElement, createTextNode } from '../vdom/create-element'\r\n\r\nlet cacheComponent = {};\r\n\r\nexport function initRender (vm) {\r\n  vm._c = (tag, options) => {\r\n    let Ctor = vm.constructor.options['component'][tag];\r\n    let sub;\r\n    if (cacheComponent[tag]) {\r\n      sub = cacheComponent[tag];\r\n    } else {\r\n      sub = cacheComponent[tag] = new Ctor(Ctor.options);\r\n    }\r\n\r\n    return Ctor.options.render.call(sub);\r\n  }\r\n}\r\n\r\nexport function renderMixin (Vue) {\r\n\r\n  // _c 创建元素的虚拟节点\r\n  // _v 创建文本的虚拟节点\r\n  // _s 文本变量\r\n  Vue.prototype._c = function (tag, data = {}, ...children) {\r\n    return createElement(this, tag, data, ...children);\r\n  }\r\n  Vue.prototype._v = function (text) {\r\n    return createTextNode(text);\r\n  }\r\n  Vue.prototype._s = function (val) {\r\n    return val == null ? '' : (typeof val === \"object\" ? JSON.stringify(val) : val);\r\n  }\r\n\r\n  Vue.prototype._render = function () {\r\n    const vm = this;\r\n    const { render } = vm.$options;\r\n\r\n    let vnode = render.call(vm);\r\n    return vnode;\r\n  }\r\n}","import { initMixin } from './init'\r\nimport { renderMixin } from './render'\r\nimport { lifecycleMixin } from './lifecycle'\r\nimport { stateMixin } from './state'\r\n\r\nexport default function Vue (options) {\r\n  this._init(options);\r\n}\r\n\r\ninitMixin(Vue);\r\nstateMixin(Vue);\r\nrenderMixin(Vue);\r\nlifecycleMixin(Vue);","\r\nimport { ASSET_TYPES } from '../shared/constants'\r\nimport { extend } from '../util/index'\r\n\r\nexport function initExtend (Vue) {\r\n  Vue.cid = 0;\r\n  let cid = 1;\r\n\r\n  Vue.extend = function (extendOptions) {\r\n    extendOptions = extendOptions || {};\r\n    const Super = this;\r\n    const SuperId = Super.cid;\r\n    const cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {})\r\n    if (cachedCtors[SuperId]) {\r\n      return cachedCtors[SuperId];\r\n    }\r\n\r\n    const name = extendOptions.name || Super.options.name;\r\n\r\n    const Sub = function VueComponent (options) {\r\n      this._init(options)\r\n    }\r\n    Sub.prototype = Object.create(Super.prototype);\r\n    Sub.prototype.constructor = Sub;\r\n    Sub.cid = cid++;\r\n    // 简易形式， vue 使用 mergeOptions 合并\r\n    Sub.options = Object.assign({}, Super.options, extendOptions);\r\n    Sub['super'] = Super;\r\n    Sub.extend = Super.extend;\r\n    if (name) {\r\n      Sub.options.components[name] = Sub;\r\n    }\r\n\r\n    return Sub;\r\n  }\r\n}\r\n","\r\nimport { ASSET_TYPES } from '../shared/constants'\r\nimport { isPlainObject } from '../util/index'\r\n\r\nexport function initAssetRegisters (Vue) {\r\n  ASSET_TYPES.forEach(type => {\r\n    Vue[type] = function (id, definition) {\r\n      if (!definition) {\r\n        return this.options[type + 's'][id];\r\n      } else {\r\n        if (type === 'component' && isPlainObject(definition)) {\r\n          definition.name = definition.name || id;\r\n        }\r\n        definition = this.options._base.extend(definition);  // 继承全局 vue 的 options\r\n        this.options[type + 's'][id] = definition;\r\n\r\n        return definition;\r\n      }\r\n    }\r\n  })\r\n}\r\n","\r\nimport { ASSET_TYPES } from '../shared/constants'\r\nimport { initExtend } from './extend'\r\nimport { initAssetRegisters } from './assets'\r\n\r\nexport function initGlobalAPI (Vue) {\r\n  Vue.options = Object.create(null);\r\n  ASSET_TYPES.forEach(type => {\r\n    Vue.options[type + 's'] = Object.create(null);\r\n  });\r\n  Vue.options._base = Vue;\r\n\r\n  initExtend(Vue);\r\n  initAssetRegisters(Vue);\r\n}\r\n","import Vue from './instance/index';\r\nimport { initGlobalAPI } from './global-api/index'\r\n\r\ninitGlobalAPI(Vue);\r\nexport default Vue;\r\n"],"names":["ASSET_TYPES","LIFECYCLE_HOOKS","isObject","obj","isPlainObject","Object","prototype","toString","call","def","data","key","value","enumerable","defineProperty","configurable","bind","fn","ctx","a","l","arguments","length","apply","unicodeRegExp","bailRE","RegExp","source","parsePath","path","test","segments","split","i","remove","arr","item","index","indexOf","splice","isReservedTag","tag","isHTMLTag","isSVG","makeMap","str","expectsLowerCase","map","create","list","val","toLowerCase","strats","forEach","hook","mergeHook","parentVal","childVal","concat","mergeOptions","parent","child","options","mergeField","assign","oldArrayMethods","Array","arrayMethods","methods","method","args","result","inserted","ob","__ob__","slice","observeArray","uid","Dep","id","subs","sub","push","target","addDep","update","observe","Observer","isArray","__proto__","walk","keys","defineReactive","dep","get","depend","set","newVal","notify","VNode","children","text","elm","context","componentOptions","createComponent","Ctor","baseCtor","$options","_base","extend","name","vnode","cid","undefined","createComponentInstanceForVnode","_isComponent","_parentVnode","createPatchFunction","oldVnode","vm","patch","createElm","isRealElement","nodeType","sameVnode","patchVnode","emptyNodeAt","parentNode","insertBefore","removeChild","insertedVnodeQueue","parentElm","refElm","document","createElement","appendChild","e","console","log","updateProperties","createTextNode","$mount","$el","oldCh","ch","updateChildren","textContent","addVnodes","removeVnodes","updateDOMProps","tagName","vnodes","startIdx","endIdx","before","newCh","oldStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newStartIdx","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInold","nextSibling","createKeyToOldIdx","moveVnode","props","attrs","attr","styleName","style","className","setAttribute","on","event","addEventListener","domProps","prop","oldProps","cur","mountComponent","el","callHook","updateComponent","_render","_update","Watcher","lifecycleMixin","Vue","prevVnode","_vnode","__patch__","$destroy","_watcher","teardown","handlers","has","flushing","queue","waiting","queueWatcher","watcher","setTimeout","flushSchedulerQueue","sort","b","run","exprOrFn","callback","deps","depIds","Set","getter","addSub","add","oldValue","removeSub","sharedPropertyDefinition","initState","initMethods","initData","computed","initComputed","watch","initWatch","_data","proxy","newValue","watchers","_computedWatchers","userDef","defineComputed","createComputedGetter","computedGetter","handler","createWatcher","expOrFn","$watch","stateMixin","cb","immediate","unwatchFn","genAssignmentCode","assignment","ncname","qnameCapture","startTagOpen","startTagClose","endTag","attribute","dirRE","root","currentParent","stack","createASTElement","type","attrsList","attrsMap","makeAttrsMap","parseHtml","html","textEnd","startTagMatch","parseStartTag","start","endTagMatch","match","advance","end","substring","chars","n","processAttrs","directives","events","rawName","element","replace","pop","defaultTagRE","fnExpRE","simplePathRE","generate","ast","genChildren","code","genData","genProps","genHandlers","genDomProps","isMethodPath","isFunctionExpression","JSON","stringify","c","gen","join","node","tokens","lastIndex","exec","trim","compileToFunctions","template","renderFn","Function","initMixin","_init","initInternalComponent","constructor","querySelector","render","outerHTML","opts","resolveAsset","assets","renderMixin","_c","_v","_s","initExtend","extendOptions","Super","SuperId","cachedCtors","_Ctor","Sub","VueComponent","components","initAssetRegisters","definition","initGlobalAPI"],"mappings":"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"}